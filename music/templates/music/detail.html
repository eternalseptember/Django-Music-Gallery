{% extends 'music/details-base.html' %}
{% block albums_active %}active{% endblock %}

<!-- Right Song Info -->
{% block detail_body %}
	
<h3>All Songs</h3>
{% if error_message %}
	<p><strong>{{ error_message }}</strong></p>
{% endif %}

<table class="table">
	<thead>
		<tr>
			<td>Title</td>
			<td>Audio File</td>
			<td>Favorite</td>
			<td>Actions</td>
		</tr>
	</thead>
	<tbody>
		{% for song in album.song_set.all %}
			<tr>
				<td>{{ song.title }}</td>
				<td>
					<a target="_blank" href="{{ song.audio_file.url }}">
						<button type="button" class="btn btn-success btn-xs">
							<span class="glyphicon glyphicon-play">&nbsp; Play
						</button>
					</a>
				</td>
				<td>
					<!-- url was { % url 'music:favorite' song.id % } -->
					<a href="#" class="btn-favorite"><span class="glyphicon glyphicon-star {% if song.is_favorite %}active{% endif %}"></span></a>
				</td>
				<td>
					<!-- Form action is { % url 'music:song-delete' album.id song.id % } -->
					<form action="{% url 'music:song-delete' album.id song.id %}" method="post" style="display:inline;">
						{% csrf_token %}
						<input type="hidden" name="song_id" value="{{ song.id }}" />
						<button type="submit" class="btn btn-danger btn-xs">
							<span class="glyphicon glyphicon-remove"></span>&nbsp; Delete
						</button>
					</form>
				</td>
			</tr>
		{% endfor %}
	</tbody>
</table>

{% endblock %}


